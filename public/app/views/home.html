<style type="text/css"> 


#wrapper {
	float:left;
	width: 100%;
	max-width: 1100px;
	min-width: 800px;
	margin: 50px auto;
}

.pagination-mnt{
	margin: 1px 0;
}
#columns {
	-webkit-column-count: 3;
	-webkit-column-gap: 10px;
	-webkit-column-fill: auto;
	-moz-column-count: 3;
	-moz-column-gap: 10px;
	-moz-column-fill: auto;
	column-count: 3;
	column-gap: 15px;
	column-fill: auto;
}

.pin {
	display: inline-block;
	background: #FEFEFE;
	border: 2px solid #FAFAFA;
	box-shadow: 0 1px 2px rgba(34, 25, 25, 0.4);
	margin: 0 2px 15px;
	-webkit-column-break-inside: avoid;
	-moz-column-break-inside: avoid;
	column-break-inside: avoid;
	padding: 15px;
	padding-bottom: 5px;
	background: -webkit-linear-gradient(45deg, #E6E0E0, #F9F9F9);
	opacity: 1;
	
	-webkit-transition: all .2s ease;
	-moz-transition: all .2s ease;
	-o-transition: all .2s ease;
	transition: all .2s ease;
}

.pin img {
	width: 100%;
	
}

.pin p {
	font: 11px/18px Arial, sans-serif;
	/* color: #333; */
	margin: 0;
}

@media (min-width: 960px) {
	#columns {
		-webkit-column-count: 3;
		-moz-column-count: 4;
		column-count: 4;
	}
}

@media (min-width: 1100px) {
	#columns {
		-webkit-column-count: 4;
		-moz-column-count: 5;
		column-count: 5;
	}
}

/* #columns:hover .pin:not(:hover) {
	opacity: 0.4;
} */
.InfoBarBase {
background-color: #ececec;
background: -webkit-linear-gradient(#f3f3f3, #e5e5e5);
background: linear-gradient(#f3f3f3, #e5e5e5);
overflow: hidden;
border-top: 1px solid rgba(0, 0, 0, 0.1);
border-bottom: 1px solid rgba(0, 0, 0, 0.2);
box-shadow: 0 1px 4px rgba(0, 0, 0, 0.14);
clear: both;
color: #333;

margin-bottom: 2px;
max-width: 10000px;
position: relative;
border-left: 1px solid #d4d4d4;
border-left: 1px solid rgba(0, 0, 0, 0.17);
border-right: 1px solid rgba(0, 0, 0, 0.17);
border-left: 1px solid #d4d4d4;
border-radius: 4px;
}
.input-sm-mini {
height: 24px !important;
padding: 5px 10px;
font-size: 10px !important;
line-height: 1.5;
border-radius: 3px;
}

.nav .open>a, .nav .open>a:hover, .dropdown .nav .open>a:focus {
 background-color: transparent !important;
 border-color: transparent !important;  
}
.pagination>.disabled>span, .pagination>.disabled>span:hover, .pagination>.disabled>span:focus, .pagination>.disabled>a, .pagination>.disabled>a:hover, .pagination>.disabled>a:focus {
 color: #999; 
 background-color: transparent !important; 
 border-color: transparent !important; 
cursor: not-allowed;
}

.pagination>.active>a, .pagination>.active>span, .pagination>.active>a:hover, .pagination>.active>span:hover, .pagination>.active>a:focus, .pagination>.active>span:focus {
	color: #A4A3A3 !important;
}


.pagination>li>a, .pagination>li>span {
position: relative;
/* float: left; */
padding: 6px 12px;
line-height: 1.428571429;
/* text-decoration: none; */
 color: #428bca; 
 background-color: transparent !important; 
 border: 1px solid transparent !important; 
/* margin-left: -1px; */
}
.bg-info-cor {
background-color: #E2E6E9;
}

 .nav{
	margin-bottom: 0px;
} 
.cal:hover{
	color: white !important;
	text-decoration: none;
}

</style>  

<script language="javascript">
   $(document).ready(function(){
	   $(".tip-bottom").tooltip({
	        placement : 'bottom'
	    });
    });
</script>


<nav class="navbar bg-primary nav" role="navigation" style="color: #bbb;border-bottom: 1px solid #444;min-height: 70px;">
    
   <!-- <div class="col-xs-3">
    <input type="text" class="form-control" placeholder="Search">
  </div> -->
	 <div class="navbar-header " style="width: 100%;margin-left: 2%;margin-top: 0.5%;">
	 	<a href="">
	 		<img src="/assets/app/images/logo_agora.png" style="width: 21%;float: left;" alt="Your Brand" >
	 	</a>
	 	<a class="cal" href="/showTables/0" target="_blank" style="color: rgba(255,255,255,0.5);margin-left: 3%;">collection/calender</a>
	 	<div style="float: right;width: 24%;">
	 	<!-- <input type="text" class="col-xs-3 form-control" style="width: 80%; margin-right: 4%;" placeholder="Search"> -->
	 	<form data-ng-submit="submitSearch()" class="navbar-form navbar-left  form-inline" role="search">
	 		
	 		 <div class="form-group has-success has-feedback">
    				<input type="text" class="input-sm form-control textStyle"  data-ng-model="searchForm.cntKeyWord" id="Content_Keyword" placeholder="Content Keyword" style="width: 100%;">
    				<span id="test" class="glyphicon glyphicon-search form-control-feedback" style="cursor: pointer;" data-ng-click="submitSearch()"></span>
  			</div>
	 		
		  </form>
	  </div>
	
      
    </div>
			 
	<a class="" id="test" data-toggle="collapse" data-target="#demo" style="float: right;color: white;margin-right: 8%;">
  Advance Search
</a>

</nav>
			
<div id="demo" class="collapse" ><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		 
		<form   data-ng-submit="submitSearch()" class="navbar-form navbar-left  form-inline" role="search">
          
         <div class="form-group">
		    <label  class="sr-only" for="email_Keyword">Sender Email Keyword</label>
		    <input tooltip= "Look for keywords in email address sender of email" type="text" class="input-sm-mini form-control textStyle" data-ng-model="searchForm.nameKeyWord" id="email_Keyword" placeholder="Email Name">
		 </div>
		 
          
		  <div class="form-group">
		    <label  class="sr-only" for="Subject_Keyword">Subject Keyword</label>
		    <input tooltip= "Look for keywords in subject of email" type="text" class="input-sm-mini form-control textStyle" data-ng-model="searchForm.subKeyWord" id="Subject_Keyword" placeholder="Subject Keyword">
		  </div>
		  <div class="form-group">
		    <label  class="sr-only" for="Subject_Keyword">One level Deep lookup</label>
		    <input tooltip= "Look into htmls link embedded in email" type="text" class="input-sm-mini form-control textStyle" data-ng-model="searchForm.levelOnekeyWord" id="levelOnekeyWord_Keyword" placeholder="One level Deep lookup">
		  </div>
		  
		  <div class="form-group dropdown">
		    <input type="text" class="input-sm-mini form-control dropdown-toggle textStyle" data-toggle="dropdown" value="{{searchForm.from | date:'MMMM-dd-yyyy' || 'From'}}" placeholder="From">
		    	<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
		    		<datetimepicker  data-ng-model="searchForm.from" data-datetimepicker-config="{ dropdownSelector: '.dropdown-toggle',minView: 'day' }"></datetimepicker>
		  		</ul>
		  </div>
		  <div class="form-group dropdown">
		    <label  for="to" style="color: white;">To</label>
		    <input type="text" class="input-sm-mini form-control dropdown-toggle textStyle" data-toggle="dropdown" value="{{searchForm.to | date:'MMMM-dd-yyyy' || 'To'}}" placeholder="To">
		    	<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
		    		<datetimepicker data-ng-model="searchForm.to" data-datetimepicker-config="{ dropdownSelector: '.dropdown-toggle',minView: 'day' }"></datetimepicker>
		  		</ul>
		  </div>
		  
		  <button type="submit" class="btn btn-primary btn-xs" >Search</button>
		  
      	</form>
	</div>
	</div> 	



<div class="container-fluid bg-info-cor " style="max-height: 38px;" ng-show="hasSearchResult">
	
	
		<div style="width: 100%;margin-left: 3%;">
			<div ng-show="hasSearchResult" class="row" style="width: 22%;float: left;margin-bottom: 0px !important;">
				<!--  <accordion-group is-open="status.open" ng-click="status.open = !status.open">
        <accordion-heading>
            Domains Lists <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
        </accordion-heading> -->
        
        
        <ul class="nav navbar-nav">
       
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="padding-bottom: 7px;padding-top: 7px;"> Domains Lists <b class="caret"></b></a>
          <ul class="dropdown-menu" style="width: 220px;">
           <div class="">
					<div style="text-align: center;font-weight: 700;">
						<div style="margin-top: 3%;margin-bottom: 2%;">
							<label>Domains</label>  
							<div style="float: right;margin-right: 2%;">All <input type="checkbox" checked="checked" data-ng-model="allChecked" style="margin-top: 5%;"> </div>
						</div>	
						<div class="scrollspy-example">
							
							<form class="form-horizontal" role="form">
								<ul class="list-group">
									<li style="font-size:12px;height: 35px; text-align: left; font-weight: normal;padding-right: 0%;margin-left: 4%;margin-right: 4%;" class="list-group-item" data-ng-repeat="d in domainCounts">
										<div style="float: left;width: 100%;">
											<input type="checkbox" data-ng-model="d.sel" style="float: left;">
								    		<p tooltip-placement="bottom" class="tip-bottom textStyle" tooltip="{{d.name}}" style="cursor: pointer;float: left;width: 70%; margin-left: 2%;">{{d.name}} </p><span class="badge_adv" style="float: right;width: 20%;">( {{d.count}} )</span>
								    	</div>	
									</li>
								</ul>
							</form>
						</div>
					</div>
					
					<div class="btn-group btn-group-sm" style="width: 100%;">
					<button type="submit" style="margin-left: 5%;margin-right: 2%; margin-top: 2%;margin-bottom: 2%;" data-ng-click="filterEmailSearch()" class="btn btn-primary">Filter Search</button>
					<button data-toggle="modal" style="margin-top: 2%;margin-bottom: 2%;" data-ng-click="open()" class="btn btn-default">Save Set</button>
				</div>
					
				</div>
          </ul>
        </li>
      </ul>
        
			</div>
	<!-- 		</accordion-group>
  </accordion>
   -->
  
  <!-- <div class="filter_popover_menu search_control_item post_type_filter_menu search_control" data-search-action-type="filter_post_type" style="display: block;"><a href="#" class="launch_button search_control_button"><i class="filter_popover_arrow icon_arrow_carrot_down"></i><span class="control_text">&lt;&lt; 1 2 3 4 5 6 7 &gt;&gt;</span></a><div class="filter_popover popover_v2" style="display: none;"><div class="menu_inner"><span class="filter_popover_nipple" style="left: 180px;"></span><div class="menu_item post_all_filter active" data-search-action-value="all"><i class="icon icon_posts"></i><span class="menu_item_text">All posts</span></div><hr class="item_divider"><div class="menu_item post_type post_text_filter" data-search-action-value="text"><i class="icon icon_post_text_small"></i><span class="menu_item_text">Text</span></div><div class="menu_item post_type post_photo_filter" data-search-action-value="photo"><i class="icon icon_post_photo_small"></i><span class="menu_item_text">Photo</span></div><div class="menu_item post_type post_quote_filter" data-search-action-value="quote"><i class="icon icon_post_quote_small"></i><span class="menu_item_text">Quote</span></div><div class="menu_item post_type post_link_filter" data-search-action-value="link"><i class="icon icon_post_link_small"></i><span class="menu_item_text">Link</span></div><div class="menu_item post_type post_chat_filter" data-search-action-value="conversation"><i class="icon icon_post_chat_small"></i><span class="menu_item_text">Chat</span></div><div class="menu_item post_type post_audio_filter" data-search-action-value="audio"><i class="icon icon_post_audio_small"></i><span class="menu_item_text">Audio</span></div><div class="menu_item post_type post_video_filter" data-search-action-value="video"><i class="icon icon_post_video_small"></i><span class="menu_item_text">Video</span></div></div></div></div> --> 
  
  
  
  
  
  
  
  
  
  <div class="col-xs-12 col-md-8" style="float: right;margin-left: 1%;cursor: pointer;">
			<div ng-show="hasSearchResult">
						<!-- <pagination  max-size="maxSize" class="pagination-small pagination-mnt pagination_adv col-xs-12 col-sm-8 col-md-8" boundary-links="true" rotate="false" 
							ng-show="totalItems != 0" total-items="totalItems" page="currentPage" 
							items-per-page="searchForm.rowCount" >
						</pagination> -->
						<div style="width: 50%;float: right;margin-bottom: 2%;">
							<button type="button" ng-disabled="currentPage == 0"  class="btn btn-primary btn-sm" ng-click="currentPage=currentPage-1" style="margin-top: 0.5%;margin-left: 5%;">
							<span class="glyphicon glyphicon-chevron-left"></span>
							</button> 
   								<label> {{currentPage+1}}/{{noOFPages}}</label>
    						<button type="button"  ng-disabled="currentPage+1 == noOFPages"  class="btn btn-primary btn-sm" ng-click="currentPage=currentPage+1" style="margin-top: 0.5%;">
							<span class="glyphicon glyphicon-chevron-right"></span>
							</button> 
							
							<div class="btn-group " style="float: left;margin-right: 1%;margin-top: 1%;">
								<a type="text" class="dropdown-toggle" data-toggle="dropdown">
							    	{{noOfRows}} <span class="caret"></span>
							  	</a>
							  	<ul class="dropdown-menu" style="min-width: 96px;" role="menu">
							    	<li><a  ng-click="submitSearch(10,relevance)">10</a></li>
							    	<li><a  ng-click="submitSearch(20,relevance)">20</a></li>
							    	<li><a  ng-click="submitSearch(30,relevance)">30</a></li>
							  	</ul>
							</div>  
							
							<div class="btn-group" style="margin-top: 0.5%;margin-left: 5%;">
							 <button type="button" data-ng-click="toggle = 0" tooltip="Images" class="btn btn-primary btn-sm">
							 <span class="glyphicon glyphicon-th"></span>
							 </button>
							<button type="button" data-ng-click="toggle = 1" tooltip="Lists" class="btn btn-primary btn-sm">
							<span class="glyphicon glyphicon-list-alt"></span>
							</button> 
							</div>
						</div>	
							
							
						
			 <div ng-show="hasQuickSearch" class="row">
				<div class=" ">
					<div style="text-align: center;font-weight: 700;">
						<div class="panel-body scrollspy-example2">
							Saved Search
							<form class="form-horizontal" role="form">
								<div  data-ng-repeat="result in saveSearchSets">
								  <label style="color:#034D94;text-align: left;" class="table table-striped table-hover list-group-item">
								    	<span style="cursor: pointer; font-size:12px;!important;" tooltip-placement="bottom" class="tip-bottom textStyle" tooltip="{{result.name}}" data-ng-model="searchForm.searchId" data-ng-click="showSearchResult(result.querySql)">{{result.name}}</span>
								  </label>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div> 
		</div> 
		 
 </div> 
		
</div>
		
	
	</div>
     	
     				<div  id="wrapper">
										<div  id="columns">
							<div data-ng-repeat="email in emails" ng-hide="toggle" class="pin" style="width:100%;">
								 			<p style="margin-left: 65%;">{{email.date | date:'MM-dd-yyyy'}}</p>
												 <img data-ng-src="/get-cover-image-by-id/{{email.id}}" style="cursor: pointer;" tooltip="Click Image to view" data-ng-click="showPopUpModal(email.id)"/>
												<p class="text-primary textStyle" style="text-align: center;border-bottom: 1px solid #ccc;padding-bottom: 3%;">{{email.domain}}</p>
												<p>{{email.subject}}</p>
												<div style="border-top: 1px solid #ccc;width: 100%;">
													<a data-ng-click="getlinkImageByID1(email.id)" style="float: left;font-family: -webkit-pictograph;text-align: center; cursor: pointer;">show all internal links</a>
													<a class="" data-toggle="collapse" data-target="#ext{{email.id}}" style="float: right;font-family: -webkit-pictograph;text-align: center; cursor: pointer;">snippet</a>
												</div>
											<div id="ext{{email.id}}" ng-bind-html="email.extract" style="float: left;width: 100%;font-weight: bold;font-size: small;background-color: aquamarine;" class="collapse">{{email.extract}}</div>
										</div>
									</div>
									
							
							</div>
							
						
     	
   <table ng-show="toggle"  class="table Contextual  table-striped table-bordered table-condensed table-hover"  style="margin-bottom: 1px;overflow: auto; border: 1px solid;">
							<tr data-ng-repeat="email in emails" style="background-color: #fff !important;height: 140px;">
									<p  style="float: right;margin: 0 0 0px;" class="textStyle">{{email.date | date:'MMMM-dd-yyyy'}}</p>
								<!-- Image -->
								<td style="padding: 1%;width: 10%;">
									<img data-ng-src="/get-cover-image-by-id/{{email.id}}" style="width:120px; cursor: pointer; height: 90px;border: 1px solid gray;" data-ng-click="showPopUpModal(email.id)" />
									<!-- Domain -->
									<p class="text-primary textStyle" style="text-align: center;">{{email.domain}}</p>
								</td>
								
								<td>
								<div>
								<!-- Subject -->
									 <blockquote class="text-primary blockquote_adv" style="float: left;font-size: 15px !important;">{{email.subject}}</blockquote>
								
								<!-- Date -->
								 	<p  style="float: right;margin-right: 2%;">{{email.date | date:'MMMM-dd-yyyy'}}</p> 
									
								</div>
								<!-- Extract -->
									<div ng-bind-html="email.extract" style="float: left;" class="textStyle col-xs-12 col-sm-10 col-md-12"></div>
									
									<!-- <button type="button" style="float: right;margin-right: 2%;" class="btn btn-primary">Show</button> -->
								</td>
							
							</tr>
							
						</table>

						
						
						<!--  <table   class="table Contextual  table-striped table-bordered table-condensed table-hover"  style="margin-bottom: 1px;overflow: auto; border: 1px solid;">
							<tr data-ng-repeat="email in emails" style="background-color: #fff !important;height: 140px;">
									<p  style="float: right;margin: 0 0 0px;" class="textStyle">{{email.date | date:'MMMM-dd-yyyy'}}</p>
								Image
								<td style="padding: 1%;width: 10%;">
									<img data-ng-src="/get-cover-image-by-id/{{email.id}}" style="width:120px; cursor: pointer; height: 90px;border: 1px solid gray;" data-ng-click="showPopUpModal(email.id)" />
									Domain
									<p class="text-primary textStyle" style="text-align: center;">{{email.domain}}</p>
									<a data-ng-click="getlinkImageByID1(email.id)">show all images</a>
									<iframe data-ng-src="/get-link-image-by-id/{{link1.id}}"  data-ng-click="showPopUpModal1(link1.id)" ></iframe>
								</td>
								
								<td>
								<div>
								Subject
									 <blockquote class="text-primary blockquote_adv" style="float: left;font-size: 15px !important;">{{email.subject}}</blockquote>
								
								Date
								 	<p  style="float: right;margin-right: 2%;">{{email.date | date:'MMMM-dd-yyyy'}}</p> 
									
								</div>
								Extract
									<div ng-bind-html="email.extract" style="float: left;" class="textStyle col-xs-12 col-sm-10 col-md-12"></div>
									
									<button type="button" style="float: right;margin-right: 2%;" class="btn btn-primary">Show</button>
								</td>
							
							</tr>
							
						</table> 
						 -->
						
			


	
	